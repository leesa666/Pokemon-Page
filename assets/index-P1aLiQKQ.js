import{u as U,j as i,L as F,b as z,a as J,r as K,c as Q,A as W,d as X}from"./index-DPrU6QjI.js";import{m as x,c as Y,g as P,S as Z,P as ee,a as ae}from"./pagination-hWLujrxR.js";import{u as ne}from"./index-CQ08YmMX.js";import{P as te}from"./index-Dp53UYtC.js";const se="_banner_yvpi2_1",O={banner:se,"banner-bg-box":"_banner-bg-box_yvpi2_16","banner-bg":"_banner-bg_yvpi2_16","banner-show-bg":"_banner-show-bg_yvpi2_37"},g={"home-swiper":"_home-swiper_gcsxi_1","home-swiper-content":"_home-swiper-content_gcsxi_134","img-box":"_img-box_gcsxi_159","content-box":"_content-box_gcsxi_181","content-info":"_content-info_gcsxi_195","content-info-id":"_content-info-id_gcsxi_212","content-info-subname":"_content-info-subname_gcsxi_230","content-type":"_content-type_gcsxi_245","type-box":"_type-box_gcsxi_260"};function ie(c){let{swiper:e,extendParams:S,on:u,emit:a}=c;S({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function p(n){let t;return n&&typeof n=="string"&&e.isElement&&(t=e.el.querySelector(n),t)?t:(n&&(typeof n=="string"&&(t=[...document.querySelectorAll(n)]),e.params.uniqueNavElements&&typeof n=="string"&&t&&t.length>1&&e.el.querySelectorAll(n).length===1?t=e.el.querySelector(n):t&&t.length===1&&(t=t[0])),n&&!t?n:t)}function m(n,t){const o=e.params.navigation;n=x(n),n.forEach(s=>{s&&(s.classList[t?"add":"remove"](...o.disabledClass.split(" ")),s.tagName==="BUTTON"&&(s.disabled=t),e.params.watchOverflow&&e.enabled&&s.classList[e.isLocked?"add":"remove"](o.lockClass))})}function y(){const{nextEl:n,prevEl:t}=e.navigation;if(e.params.loop){m(t,!1),m(n,!1);return}m(t,e.isBeginning&&!e.params.rewind),m(n,e.isEnd&&!e.params.rewind)}function L(n){n.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),a("navigationPrev"))}function E(n){n.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),a("navigationNext"))}function d(){const n=e.params.navigation;if(e.params.navigation=Y(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(n.nextEl||n.prevEl))return;let t=p(n.nextEl),o=p(n.prevEl);Object.assign(e.navigation,{nextEl:t,prevEl:o}),t=x(t),o=x(o);const s=(l,h)=>{l&&l.addEventListener("click",h==="next"?E:L),!e.enabled&&l&&l.classList.add(...n.lockClass.split(" "))};t.forEach(l=>s(l,"next")),o.forEach(l=>s(l,"prev"))}function v(){let{nextEl:n,prevEl:t}=e.navigation;n=x(n),t=x(t);const o=(s,l)=>{s.removeEventListener("click",l==="next"?E:L),s.classList.remove(...e.params.navigation.disabledClass.split(" "))};n.forEach(s=>o(s,"next")),t.forEach(s=>o(s,"prev"))}u("init",()=>{e.params.navigation.enabled===!1?_():(d(),y())}),u("toEdge fromEdge lock unlock",()=>{y()}),u("destroy",()=>{v()}),u("enable disable",()=>{let{nextEl:n,prevEl:t}=e.navigation;if(n=x(n),t=x(t),e.enabled){y();return}[...n,...t].filter(o=>!!o).forEach(o=>o.classList.add(e.params.navigation.lockClass))}),u("click",(n,t)=>{let{nextEl:o,prevEl:s}=e.navigation;o=x(o),s=x(s);const l=t.target;if(e.params.navigation.hideOnClick&&!s.includes(l)&&!o.includes(l)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===l||e.pagination.el.contains(l)))return;let h;o.length?h=o[0].classList.contains(e.params.navigation.hiddenClass):s.length&&(h=s[0].classList.contains(e.params.navigation.hiddenClass)),a(h===!0?"navigationShow":"navigationHide"),[...o,...s].filter(T=>!!T).forEach(T=>T.classList.toggle(e.params.navigation.hiddenClass))}});const N=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),y()},_=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),v()};Object.assign(e.navigation,{enable:N,disable:_,update:y,init:d,destroy:v})}function re(c){let{swiper:e,extendParams:S,on:u,emit:a,params:p}=c;e.autoplay={running:!1,paused:!1,timeLeft:0},S({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let m,y,L=p&&p.autoplay?p.autoplay.delay:3e3,E=p&&p.autoplay?p.autoplay.delay:3e3,d,v=new Date().getTime(),N,_,n,t,o,s,l;function h(r){!e||e.destroyed||!e.wrapperEl||r.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",h),!(l||r.detail&&r.detail.bySwiperTouchMove)&&w())}const T=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?N=!0:N&&(E=d,N=!1);const r=e.autoplay.paused?d:v+E-new Date().getTime();e.autoplay.timeLeft=r,a("autoplayTimeLeft",r,r/L),y=requestAnimationFrame(()=>{T()})},R=()=>{let r;return e.virtual&&e.params.virtual.enabled?r=e.slides.filter(f=>f.classList.contains("swiper-slide-active"))[0]:r=e.slides[e.activeIndex],r?parseInt(r.getAttribute("data-swiper-autoplay"),10):void 0},C=r=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(y),T();let b=typeof r>"u"?e.params.autoplay.delay:r;L=e.params.autoplay.delay,E=e.params.autoplay.delay;const f=R();!Number.isNaN(f)&&f>0&&typeof r>"u"&&(b=f,L=f,E=f),d=b;const D=e.params.speed,q=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(D,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,D,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(D,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,D,!0,!0),a("autoplay")),e.params.cssMode&&(v=new Date().getTime(),requestAnimationFrame(()=>{C()})))};return b>0?(clearTimeout(m),m=setTimeout(()=>{q()},b)):requestAnimationFrame(()=>{q()}),b},A=()=>{v=new Date().getTime(),e.autoplay.running=!0,C(),a("autoplayStart")},k=()=>{e.autoplay.running=!1,clearTimeout(m),cancelAnimationFrame(y),a("autoplayStop")},j=(r,b)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(m),r||(s=!0);const f=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",h):w()};if(e.autoplay.paused=!0,b){o&&(d=e.params.autoplay.delay),o=!1,f();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-v),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),f())},w=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(v=new Date().getTime(),s?(s=!1,C(d)):C(),e.autoplay.paused=!1,a("autoplayResume"))},M=()=>{if(e.destroyed||!e.autoplay.running)return;const r=P();r.visibilityState==="hidden"&&(s=!0,j(!0)),r.visibilityState==="visible"&&w()},B=r=>{r.pointerType==="mouse"&&(s=!0,l=!0,!(e.animating||e.autoplay.paused)&&j(!0))},I=r=>{r.pointerType==="mouse"&&(l=!1,e.autoplay.paused&&w())},$=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",B),e.el.addEventListener("pointerleave",I))},H=()=>{e.el.removeEventListener("pointerenter",B),e.el.removeEventListener("pointerleave",I)},V=()=>{P().addEventListener("visibilitychange",M)},G=()=>{P().removeEventListener("visibilitychange",M)};u("init",()=>{e.params.autoplay.enabled&&($(),V(),A())}),u("destroy",()=>{H(),G(),e.autoplay.running&&k()}),u("_freeModeStaticRelease",()=>{(n||s)&&w()}),u("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?k():j(!0,!0)}),u("beforeTransitionStart",(r,b,f)=>{e.destroyed||!e.autoplay.running||(f||!e.params.autoplay.disableOnInteraction?j(!0,!0):k())}),u("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){k();return}_=!0,n=!1,s=!1,t=setTimeout(()=>{s=!0,n=!0,j(!0)},200)}}),u("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!_)){if(clearTimeout(t),clearTimeout(m),e.params.autoplay.disableOnInteraction){n=!1,_=!1;return}n&&e.params.cssMode&&w(),n=!1,_=!1}}),u("slideChange",()=>{e.destroyed||!e.autoplay.running||(o=!0)}),Object.assign(e.autoplay,{start:A,stop:k,pause:j,resume:w})}const oe=({data:c})=>{const e=U(),S=a=>{e("/search?types="+a)},{getType:u}=ne();return i.jsx(i.Fragment,{children:i.jsx(Z,{slidesPerView:1,loop:!0,pagination:{clickable:!0},autoplay:{delay:3500,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:!0,modules:[re,ee,ie],className:g["home-swiper"],children:c==null?void 0:c.map(a=>i.jsx(ae,{children:i.jsxs("div",{className:g["home-swiper-content"],children:[i.jsx("div",{className:g["img-box"],children:i.jsx(F,{to:"/detail/"+a.pokemon_id,children:i.jsx("img",{src:`${z}/source/img/pokemon/${a.id}.webp`,alt:(a==null?void 0:a.name)+(a==null?void 0:a.sub_name),title:(a==null?void 0:a.name)+(a==null?void 0:a.sub_name),crossOrigin:"use-credentials",fetchPriority:"high"})})}),i.jsxs("div",{className:g["content-box"],children:[i.jsx(F,{to:"/detail/"+a.pokemon_id,children:i.jsxs("h3",{className:g["content-info"],children:[i.jsx("span",{className:g["content-info-id"],children:"No."+String(a==null?void 0:a.species_id).padStart(4,"0")}),i.jsx("span",{className:g["content-info-name"],children:a.name}),(a==null?void 0:a.sub_name)==""?"":i.jsx("span",{className:g["content-info-subname"],children:'"'+(a==null?void 0:a.sub_name)+'"'})]})}),i.jsx("div",{className:g["content-type"],children:a.type.map(p=>i.jsxs("div",{className:g["type-box"],onClick:()=>S(p),children:[i.jsx("img",{src:`/imgs/type/${p}.svg`,alt:u(p).name,title:u(p).name}),u(p).name]},p))})]})]})},a.id))})})},le=({data:c})=>i.jsx("div",{className:O.banner,children:i.jsx("div",{className:O["banner-bg-box"],children:i.jsxs("div",{className:O["banner-bg"],children:[i.jsx("div",{className:O["banner-show-bg"]}),i.jsx(oe,{data:c})]})})}),ue=()=>{const{data:c,random_data:e}=X();return i.jsxs(i.Fragment,{children:[i.jsx(le,{data:e}),i.jsx(te,{data:c})]})},me=()=>{const c=J();return i.jsx(K.Suspense,{fallback:i.jsx(Q,{}),children:i.jsx(W,{resolve:c.data,children:i.jsx(ue,{})})})};export{me as default};
